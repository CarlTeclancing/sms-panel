<section class="grid lg:grid-cols-2 gap-10 items-center reveal">
    <div class="fade-in-up">
        <div class="inline-flex items-center gap-2 bg-white border border-slate-200 rounded-full px-4 py-2 text-xs text-slate-600">
            <span class="w-2 h-2 rounded-full bg-emerald-500"></span>
            Cheaper. Faster. Global.
        </div>
        <h1 class="text-4xl md:text-5xl font-bold text-slate-900 mt-4">Get verified, stay connected, &amp; grow your socials instantly!</h1>
        <p class="mt-4 text-slate-600 text-lg">Rent numbers, receive SMS codes, get global eSIMs, and boost your social media quick, secure, and hassle-free.</p>
        <div class="mt-6 flex flex-wrap gap-3">
            <a href="<?= url('/register') ?>" class="bg-primary text-white px-6 py-3 rounded soft-btn">Get started</a>
            <a href="<?= url('/services') ?>" class="border border-slate-300 text-slate-700 px-6 py-3 rounded soft-btn">Explore services</a>
        </div>
        <div class="mt-8 grid grid-cols-2 sm:grid-cols-3 gap-4">
            <div class="card p-4 fade-in-up fade-in-delay-1">
                <p class="text-xs text-slate-500">Active Users</p>
                <p class="text-2xl font-semibold mt-1" data-counter data-target="10000" data-suffix="+">0</p>
            </div>
            <div class="card p-4 fade-in-up fade-in-delay-2">
                <p class="text-xs text-slate-500">Engagement</p>
                <p class="text-2xl font-semibold mt-1">Cheapest &amp; Fastest</p>
            </div>
            <div class="card p-4 fade-in-up fade-in-delay-3">
                <p class="text-xs text-slate-500">Coverage</p>
                <p class="text-2xl font-semibold mt-1" data-counter data-target="10" data-suffix="+">0</p>
            </div>
        </div>
    </div>
    <div class="relative reveal">
        <div class="card p-6 overflow-hidden">
            <img src="https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?auto=format&fit=crop&w=1200&q=80" alt="Dashboard preview" class="w-full h-64 object-cover rounded-lg float-slow">
            <div class="mt-6 grid grid-cols-2 gap-3">
                <div class="bg-slate-50 border border-slate-200 rounded-lg p-3">
                    <div class="flex items-center gap-2 text-sm text-slate-600">
                        <i data-lucide="shield-check" class="w-4 h-4"></i>
                        Secure verification
                    </div>
                </div>
                <div class="bg-slate-50 border border-slate-200 rounded-lg p-3">
                    <div class="flex items-center gap-2 text-sm text-slate-600">
                        <i data-lucide="bolt" class="w-4 h-4"></i>
                        Instant delivery
                    </div>
                </div>
                <div class="bg-slate-50 border border-slate-200 rounded-lg p-3">
                    <div class="flex items-center gap-2 text-sm text-slate-600">
                        <i data-lucide="globe" class="w-4 h-4"></i>
                        Global reach
                    </div>
                </div>
                <div class="bg-slate-50 border border-slate-200 rounded-lg p-3">
                    <div class="flex items-center gap-2 text-sm text-slate-600">
                        <i data-lucide="sparkles" class="w-4 h-4"></i>
                        Social growth
                    </div>
                </div>
            </div>
        </div>
        <div class="absolute -bottom-6 -left-6 card p-4 w-48 float-fast">
            <p class="text-xs text-slate-500">Avg delivery time</p>
            <p class="text-2xl font-semibold mt-1">&lt; 30s</p>
        </div>
    </div>
</section>

<section class="mt-12 grid lg:grid-cols-2 gap-6 reveal">
    <div class="card p-6">
        <h3 class="text-xl font-semibold">Cheapest and Fastest Engagements &amp; Online SMS Verification</h3>
        <p class="text-slate-600 mt-3">All the tools you need to verify, connect, and growâ€”built for speed and trust.</p>
        <div class="mt-6 grid sm:grid-cols-2 gap-4 text-sm">
            <div class="flex items-start gap-3">
                <div class="w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center">
                    <i data-lucide="zap" class="w-5 h-5 text-primary"></i>
                </div>
                <div>
                    <p class="font-semibold">Instant delivery</p>
                    <p class="text-slate-600">Fast OTPs and engagements.</p>
                </div>
            </div>
            <div class="flex items-start gap-3">
                <div class="w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center">
                    <i data-lucide="refresh-ccw" class="w-5 h-5 text-primary"></i>
                </div>
                <div>
                    <p class="font-semibold">Refund protection</p>
                    <p class="text-slate-600">Unused numbers are refunded.</p>
                </div>
            </div>
            <div class="flex items-start gap-3">
                <div class="w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center">
                    <i data-lucide="globe-2" class="w-5 h-5 text-primary"></i>
                </div>
                <div>
                    <p class="font-semibold">Global coverage</p>
                    <p class="text-slate-600">Choose from 10+ countries.</p>
                </div>
            </div>
            <div class="flex items-start gap-3">
                <div class="w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center">
                    <i data-lucide="lock" class="w-5 h-5 text-primary"></i>
                </div>
                <div>
                    <p class="font-semibold">Secure payments</p>
                    <p class="text-slate-600">Trusted checkout flow.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="card p-6">
        <h3 class="text-xl font-semibold">Plus 10 countries and numbers for different services</h3>
        <p class="text-slate-600 mt-3">Access a wide selection of countries for verification and eSIM services.</p>
        <div class="mt-4 grid grid-cols-2 gap-3 text-sm text-slate-600">
            <div class="flex items-center gap-2"><span>ðŸ‡ºðŸ‡¸</span> United States</div>
            <div class="flex items-center gap-2"><span>ðŸ‡¬ðŸ‡§</span> United Kingdom</div>
            <div class="flex items-center gap-2"><span>ðŸ‡¨ðŸ‡²</span> Cameroon</div>
            <div class="flex items-center gap-2"><span>ðŸ‡³ðŸ‡¬</span> Nigeria</div>

            <div class="flex items-center gap-2"><span>ðŸ‡«ðŸ‡·</span> France</div>
            <div class="flex items-center gap-2"><span>ðŸ‡©ðŸ‡ª</span> Germany</div>
            <div class="flex items-center gap-2"><span>ðŸ‡¨ðŸ‡³</span> China</div>
            <div class="flex items-center gap-2"><span>ðŸ‡®ðŸ‡³</span> India</div>
            <div class="flex items-center gap-2"><span>ðŸ‡¨ðŸ‡¦</span> Canada</div>
            <div class="flex items-center gap-2"><span>ðŸ‡·ðŸ‡º</span> Russia</div>
        </div>
    </div>
</section>

<section class="mt-12 reveal">
    <div class="flex items-center justify-between">
        <h3 class="text-xl font-semibold">Top 20 Number Services</h3>
        <span class="text-sm text-slate-500">Best sellers</span>
    </div>
    <div id="homeServices" class="mt-4 grid sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
</section>

<section class="mt-12 reveal">
    <div class="flex items-center justify-between">
        <h3 class="text-xl font-semibold">Top SMM Services</h3>
        <span class="text-sm text-slate-500">Growth essentials</span>
    </div>
    <div class="mt-4 grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
        <?php if (!empty($smmServices)): ?>
            <?php foreach ($smmServices as $smm): ?>
                <div class="card p-4">
                    <div class="flex items-center gap-2 text-sm text-slate-600">
                        <div class="w-9 h-9 rounded-xl bg-primary/10 flex items-center justify-center">
                            <i data-lucide="sparkles" class="w-4 h-4 text-primary"></i>
                        </div>
                        <span><?= htmlspecialchars($smm['category'] ?? 'Social') ?></span>
                    </div>
                    <h4 class="font-semibold mt-3"><?= htmlspecialchars($smm['name']) ?></h4>
                    <p class="text-xs text-slate-500 mt-1"><?= htmlspecialchars($smm['type'] ?? 'Standard') ?></p>
                    <p class="mt-3 font-semibold text-primary">$<?= number_format((float)($smm['display_rate'] ?? $smm['rate']), 4) ?> / 1k</p>
                </div>
            <?php endforeach; ?>
        <?php else: ?>
            <div class="card p-4 text-slate-500">No SMM services available.</div>
        <?php endif; ?>
    </div>
</section>

<section class="mt-12 grid lg:grid-cols-2 gap-6 items-center reveal">
    <div class="card p-6">
        <h3 class="text-xl font-semibold">Dashboard showcase</h3>
        <p class="text-slate-600 mt-3">Track orders, manage wallet, and monitor activity in one clean dashboard.</p>
        <div class="mt-4 space-y-3 text-sm text-slate-600">
            <div class="flex items-center gap-2"><i data-lucide="bar-chart-3" class="w-4 h-4"></i> Real-time analytics</div>
            <div class="flex items-center gap-2"><i data-lucide="wallet" class="w-4 h-4"></i> Wallet overview</div>
            <div class="flex items-center gap-2"><i data-lucide="bell" class="w-4 h-4"></i> Status updates</div>
        </div>
    </div>
    <div class="card p-6">
        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=1200&q=80" alt="Dashboard showcase" class="w-full h-72 object-cover rounded-lg">
    </div>
</section>

<section class="mt-12 card p-6 reveal">
    <h3 class="text-xl font-semibold">How It Works</h3>
    <div class="mt-4 grid md:grid-cols-4 gap-4 text-sm text-slate-600">
        <div class="border border-slate-200 rounded-lg p-4 bg-white">
            <p class="font-semibold text-slate-900">Sign Up</p>
            <p class="mt-2">Start by signing up with your email and basic details.</p>
        </div>
        <div class="border border-slate-200 rounded-lg p-4 bg-white">
            <p class="font-semibold text-slate-900">Fund Your Wallet</p>
            <p class="mt-2">Add funds using cards, PayPal, or crypto.</p>
        </div>
        <div class="border border-slate-200 rounded-lg p-4 bg-white">
            <p class="font-semibold text-slate-900">Select a Service</p>
            <p class="mt-2">Choose from SMS, eSIMs, or social boosting.</p>
        </div>
        <div class="border border-slate-200 rounded-lg p-4 bg-white">
            <p class="font-semibold text-slate-900">Manage &amp; Track</p>
            <p class="mt-2">Monitor everything in your dashboard.</p>
        </div>
    </div>
</section>

<section class="mt-12 grid lg:grid-cols-2 gap-6 reveal">
    <div class="card p-6">
        <h3 class="text-xl font-semibold">Common questions</h3>
        <p class="text-sm text-slate-500 mt-2">Find answers to frequently asked questions.</p>
    </div>
    <div class="space-y-3">
        <div class="card p-4">
            <p class="font-semibold">What is an SMM Panel?</p>
            <p class="text-sm text-slate-600 mt-2">An SMM panel provides social media services such as likes, follows, and engagement boosts.</p>
        </div>
        <div class="card p-4">
            <p class="font-semibold">What is SMS Service?</p>
            <p class="text-sm text-slate-600 mt-2">SMS services provide temporary numbers for receiving verification codes online.</p>
        </div>
        <div class="card p-4">
            <p class="font-semibold">What payment options do you accept?</p>
            <p class="text-sm text-slate-600 mt-2">You can fund your wallet using cards, PayPal, or crypto depending on availability.</p>
        </div>
        <div class="card p-4">
            <p class="font-semibold">What services does Panelsuite offer?</p>
            <p class="text-sm text-slate-600 mt-2">GetSMS offers SMS verification, eSIMs, and social media boosting in one platform.</p>
        </div>
    </div>
</section>

<script>
    const revealEls = document.querySelectorAll('.reveal');
    const counterEls = document.querySelectorAll('[data-counter]');

    const runCounters = (root) => {
        const counters = root.querySelectorAll('[data-counter]');
        counters.forEach(counter => {
            if (counter.dataset.ran === '1') {
                return;
            }
            counter.dataset.ran = '1';
            const target = Number(counter.dataset.target || '0');
            const suffix = counter.dataset.suffix || '';
            const duration = 1200;
            const start = performance.now();

            const tick = (now) => {
                const progress = Math.min((now - start) / duration, 1);
                const value = Math.floor(progress * target);
                counter.textContent = value.toLocaleString() + suffix;
                if (progress < 1) {
                    requestAnimationFrame(tick);
                }
            };

            requestAnimationFrame(tick);
        });
    };

    if ('IntersectionObserver' in window) {
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('reveal-visible');
                    runCounters(entry.target);
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.2 });

        revealEls.forEach(el => observer.observe(el));
    } else {
        revealEls.forEach(el => el.classList.add('reveal-visible'));
        runCounters(document);
    }
</script>

<script>
    const servicesData = <?php echo json_encode($services ?? []); ?>;
    const list = document.getElementById('homeServices');

    const renderAll = () => {
        servicesData.forEach(service => {
            const card = document.createElement('div');
            card.className = 'card p-4';
            card.innerHTML = `
                <div class="flex items-center gap-2 text-sm text-slate-600">
                    <div class="w-9 h-9 rounded-xl bg-primary/10 flex items-center justify-center">
                        <i data-lucide="smartphone" class="w-4 h-4 text-primary"></i>
                    </div>
                    <span>Number Service</span>
                </div>
                <h4 class="font-semibold mt-3">${service.name}</h4>
                <p class="text-xs text-slate-500 mt-1">Code: ${service.code}</p>
                <p class="mt-2 font-semibold text-primary">$${Number(service.display_price ?? service.price).toFixed(4)}</p>
            `;
            list.appendChild(card);
        });
    };

    renderAll();
</script>
